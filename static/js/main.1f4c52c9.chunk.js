(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{119:function(e,t,a){e.exports=a(183)},182:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(61),o=a.n(c),i=a(37),l=a(15),m=a(101),u=a(36),p=function(e){var t=e.component,a=e.addresToRedirect,n=e.isRoutingAllowed,r=e.name,c=Object(m.a)(e,["component","addresToRedirect","isRoutingAllowed","name"]);return s.a.createElement(u.b,Object.assign({},c,{render:function(e){return n(r)?s.a.createElement(t,e):s.a.createElement(u.a,{to:a})}}))},d=a(7),b=a.n(d),f=a(22),g=a(103),h=a.n(g).a.create({baseURL:"https://conduit.productionready.io/api/"}),E="users/login",v="users",w=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.post("".concat(v),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.post("".concat(E),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){localStorage.setItem("user",JSON.stringify(e))},N=function(e){return function(t){return(!e||"Home"===t)&&!(!e&&"Home"===t)}},j=a(104),y=a(105),x=a(115),k=a(107),I=a(116),R=a(189),T=Object(R.a)("SIGN_IN"),A=Object(R.a)("SIGN_OUT"),L={changeStateToSignIn:T,thunkSignIn:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S({user:e});case 3:n=t.sent,r=n.data.user,a(T(r)),O(r),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},thunkSignUp:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w({user:e});case 3:n=t.sent,r=n.data.user,a(T(r)),O(r),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},C={changeStateToSignOut:A},F=function(e){function t(){return Object(j.a)(this,t),Object(x.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.changeStateToSignIn;try{var t=JSON.parse(localStorage.getItem("user"));t&&e(t)}catch(a){console.log("Can not read localStorage")}}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.children)}}]),t}(s.a.Component),q=Object(l.b)((function(){return{}}),L)(F),P=Object(l.b)((function(e){return{user:e.user}}),C)((function(e){var t=e.changeStateToSignOut,a=e.user;return s.a.createElement("div",{className:"header"},"This is Homepage",s.a.createElement("div",{className:"header_btn"},s.a.createElement("span",null,a.username),s.a.createElement("button",{onClick:function(){localStorage.clear(),t()},type:"button",className:"btn-primary"},"Exit")))})),U=a(8),Y=a(26),H=a(187),J=a(188),z=Y.a({password:Y.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").required("You must enter password"),email:Y.b().email("Invalid email address").required("You must enter email")}),Z=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),L)((function(e){var t=e.thunkSignIn,a=function(){var e=Object(f.a)(b.a.mark((function e(a,n){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,s=n.setFieldError,e.prev=1,e.next=4,t(a);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s("email","Check email"),s("password","Check password");case 10:return e.prev=10,r(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})));return function(t,a){return e.apply(this,arguments)}}();return s.a.createElement(H.a,{xs:22,md:12,xl:6,className:"form-wrapper"},s.a.createElement("h2",{className:"form-header"},"Sing in to Blog"),s.a.createElement(U.d,{initialValues:{email:"",password:""},validationSchema:z,onSubmit:a},(function(e){return s.a.createElement(U.c,{onSubmit:e.handleSubmit},s.a.createElement("label",{htmlFor:"email"},s.a.createElement("span",{className:"form-label"},"Email"),s.a.createElement(U.b,{type:"email",name:"email",className:"form-input"})),s.a.createElement(U.a,{name:"email",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"password"},s.a.createElement("span",{className:"form-label"},"Password"),s.a.createElement(U.b,{type:"password",name:"password",className:"form-input"})),s.a.createElement(U.a,{name:"password",component:"div",className:"form-error"}),e.isSubmitting?s.a.createElement(J.a,null):s.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign in"))})),s.a.createElement("div",{className:"or"},"OR"),s.a.createElement(i.b,{to:"signup"},"Create new Account"))})),$=Y.a({username:Y.b().matches(/^[a-zA-Z0-9]{0,}$/,"Name have only latin letters and digits").required("You must enter Name"),password:Y.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").min(8,"Password is too short - should be 8 chars minimum.").required("You must enter password"),email:Y.b().email("Invalid email address").required("You must enter email")}),_=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),L)((function(e){var t=e.thunkSignUp,a=function(){var e=Object(f.a)(b.a.mark((function e(a,n){var r,s,c,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,s=n.setFieldError,e.prev=1,e.next=4,t(a);case 4:e.next=12;break;case 6:e.prev=6,e.t0=e.catch(1),c=e.t0.email,o=e.t0.password,i=e.t0.username,s("username",i),s("email",c),s("password",o);case 12:return e.prev=12,r(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,6,12,15]])})));return function(t,a){return e.apply(this,arguments)}}();return s.a.createElement(H.a,{xs:22,md:12,xl:6,className:"form-wrapper"},s.a.createElement("h2",{className:"form-header"},"Create new accuant"),s.a.createElement(U.d,{initialValues:{email:"",password:"",username:""},validationSchema:$,onSubmit:a},(function(e){return s.a.createElement(U.c,{onSubmit:e.handleSubmit},s.a.createElement("label",{htmlFor:"username"},s.a.createElement("span",{className:"form-label"},"Name"),s.a.createElement(U.b,{type:"text",name:"username",className:"form-input"})),s.a.createElement(U.a,{name:"username",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"email"},s.a.createElement("span",{className:"form-label"},"Email"),s.a.createElement(U.b,{type:"email",name:"email",className:"form-input"})),s.a.createElement(U.a,{name:"email",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"password"},s.a.createElement("span",{className:"form-label"},"Password"),s.a.createElement(U.b,{type:"password",name:"password",className:"form-input"})),s.a.createElement(U.a,{name:"password",component:"div",className:"form-error"}),e.isSubmitting?s.a.createElement(J.a,null):s.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign Up"))})),s.a.createElement("div",{className:"or"},"OR"),s.a.createElement(i.b,{to:"login"},"Sign in"))})),B=(a(181),a(182),Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}))((function(e){var t=e.isLoggedIn;return s.a.createElement(i.a,null,s.a.createElement(q,null,s.a.createElement(p,{path:"/blog",component:P,exact:!0,addresToRedirect:"/blog/login",isRoutingAllowed:N(t),name:"Home"}),s.a.createElement(p,{path:"/blog/login",component:Z,addresToRedirect:"/blog",isRoutingAllowed:N(t)}),s.a.createElement(p,{path:"/blog/signup",component:_,addresToRedirect:"/blog",isRoutingAllowed:N(t)})))}))),G=a(38),V=a(114),D=a(75),M=a(185),K=Object(M.a)((n={},Object(D.a)(n,T,(function(){return!0})),Object(D.a)(n,A,(function(){return!1})),n),!1),Q=Object(M.a)(Object(D.a)({},T,(function(e,t){return t.payload})),{}),W=Object(G.c)({isLoggedIn:K,user:Q}),X=Object(G.d)(W,Object(G.a)(V.a));o.a.render(s.a.createElement(l.a,{store:X},s.a.createElement(B,null)),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.1f4c52c9.chunk.js.map