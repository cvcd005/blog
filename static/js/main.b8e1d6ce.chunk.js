(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{115:function(e,a,t){e.exports=t(179)},178:function(e,a,t){},179:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(58),o=t.n(s),c=t(23),i=t(36),l=t(21),m=t(37),u=t(98),p=t(99),d=Object(m.c)({isLoggedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return!0;case"LOGOUT":return!1;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(p.a)({},a.payload.user);default:return e}}}),b=Object(m.d)(d,Object(m.a)(u.a)),g=t(101),h=t(102),E=t(112),f=t(104),v=t(113),w=function(e){return{type:"LOGIN",payload:{user:e}}},N={actionSignIn:w,createThunk:function(e,a){return function(t){return t(a(e))}},createThunkSignIn:function(e){return function(a){return a(w(e))}}},y={actionSignOut:function(){return{type:"LOGOUT"}}},O=function(e){function a(){return Object(g.a)(this,a),Object(E.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.actionSignIn,a=JSON.parse(localStorage.getItem("user"));a&&e(a)}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.children)}}]),a}(r.a.Component),S=Object(l.b)((function(){return{}}),N)(O),F=t(18),I=t.n(F),j=t(38),k=t(77),x=t.n(k),L="https://conduit.productionready.io/api/",T="users/login",C="users",q=function(){var e=Object(j.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.post("".concat(L).concat(C),a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.post("".concat(L).concat(T),a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),P=function(e){localStorage.setItem("user",JSON.stringify(e))},Y=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn,user:e.user}}),y)((function(e){var a=e.isLoggedIn,t=e.actionSignOut,n=e.user;return a?r.a.createElement("div",{className:"header"},"This is Homepage",r.a.createElement("div",{className:"header_btn"},r.a.createElement("span",null,n.username),r.a.createElement("button",{onClick:function(){localStorage.clear(),t()},type:"button",className:"btn-primary"},"Exit"))):r.a.createElement(i.a,{to:"/blog/login"})})),A=t(7),J=t(26),z=t(182),H=t(183),U=J.a({password:J.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").required("You must enter password"),email:J.b().email("Invalid email address").required("You must enter email")}),Z=function(e,a){return function(){var t=Object(j.a)(I.a.mark((function t(n,r){var s,o,c,i,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.setSubmitting,o=r.resetForm,c=r.setFieldError,t.prev=1,t.next=4,G({user:n});case 4:200===(i=t.sent).status&&(o(),s(!1),l=i.data.user,e(l,a),P(l)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),c("email","Check email"),c("password","Check password");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},$=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),N)((function(e){var a=e.isLoggedIn,t=e.createThunk,n=e.actionSignIn;return a?r.a.createElement(i.a,{to:"/blog"}):r.a.createElement(z.a,{xs:22,md:12,xl:6,className:"formWrapper"},r.a.createElement("h2",{className:"formHeader"},"Sing in to Blog"),r.a.createElement(A.d,{initialValues:{email:"",password:""},validationSchema:U,onSubmit:Z(t,n)},(function(e){return r.a.createElement(A.c,{onSubmit:e.handleSubmit},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("span",{className:"labelForm"},"Email"),r.a.createElement(A.b,{type:"email",name:"email",className:"inputForm"})),r.a.createElement(A.a,{name:"email",component:"div",className:"errorForm"}),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",{className:"labelForm"},"Password"),r.a.createElement(A.b,{type:"password",name:"password",className:"inputForm"})),r.a.createElement(A.a,{name:"password",component:"div",className:"errorForm"}),e.isSubmitting?r.a.createElement(H.a,null):r.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign in"))})),r.a.createElement("div",{className:"or"},"OR"),r.a.createElement(c.b,{to:"signup"},"Create new Account"))})),B=J.a({username:J.b().matches(/^[a-zA-Z0-9]{0,}$/,"Name have only latin letters and digits").required("You must enter Name"),password:J.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").min(8,"Password is too short - should be 8 chars minimum.").required("You must enter password"),email:J.b().email("Invalid email address").required("You must enter email")}),R=function(e,a){return function(){var t=Object(j.a)(I.a.mark((function t(n,r){var s,o,c,i,l,m,u,p,d;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.setSubmitting,o=r.resetForm,c=r.setFieldError,t.prev=1,t.next=4,q({user:n});case 4:200===(i=t.sent).status&&(o(),s(!1),l=i.data.user,e(l,a),P(l)),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(1),m=t.t0.response.data.errors,u=m.email,p=m.password,d=m.username,c("username",d),c("email",u),c("password",p);case 14:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},V=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),N)((function(e){var a=e.isLoggedIn,t=e.createThunk,n=e.actionSignIn;return a?r.a.createElement(i.a,{to:"/blog"}):r.a.createElement(z.a,{xs:22,md:12,xl:6,className:"formWrapper"},r.a.createElement("h2",{className:"formHeader"},"Create new accuant"),r.a.createElement(A.d,{initialValues:{email:"",password:"",username:""},validationSchema:B,onSubmit:R(t,n)},(function(e){return r.a.createElement(A.c,{onSubmit:e.handleSubmit},r.a.createElement("label",{htmlFor:"username"},r.a.createElement("span",{className:"labelForm"},"Name"),r.a.createElement(A.b,{type:"text",name:"username",className:"inputForm"})),r.a.createElement(A.a,{name:"username",component:"div",className:"errorForm"}),r.a.createElement("label",{htmlFor:"email"},r.a.createElement("span",{className:"labelForm"},"Email"),r.a.createElement(A.b,{type:"email",name:"email",className:"inputForm"})),r.a.createElement(A.a,{name:"email",component:"div",className:"errorForm"}),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",{className:"labelForm"},"Password"),r.a.createElement(A.b,{type:"password",name:"password",className:"inputForm"})),r.a.createElement(A.a,{name:"password",component:"div",className:"errorForm"}),e.isSubmitting?r.a.createElement(H.a,null):r.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign Up"))})),r.a.createElement("div",{className:"or"},"OR"),r.a.createElement(c.b,{to:"login"},"Sign in"))})),W=(t(177),t(178),function(){return r.a.createElement(l.a,{store:b},r.a.createElement(c.a,null,r.a.createElement(S,null,r.a.createElement(i.b,{path:"/blog",component:Y,exact:!0}),r.a.createElement(i.b,{path:"/blog/login",component:$}),r.a.createElement(i.b,{path:"/blog/signup",component:V}))))});o.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.b8e1d6ce.chunk.js.map