(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{119:function(e,a,t){e.exports=t(183)},182:function(e,a,t){},183:function(e,a,t){"use strict";t.r(a);var n,r=t(0),s=t.n(r),c=t(61),o=t.n(c),i=t(37),l=t(15),m=t(38),u=t(101),p=t(75),d=t(185),b=t(7),f=t.n(b),g=t(22),h=t(189),E=t(102),v=t.n(E).a.create({baseURL:"https://conduit.productionready.io/api/"}),w="users/login",S="users",O=function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("".concat(S),a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("".concat(w),a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),j=function(e){localStorage.setItem("user",JSON.stringify(e))},y=function(e,a){return(!e||"Home"===a)&&!(!e&&"Home"===a)},x=Object(h.a)("SIGN_IN"),k=Object(h.a)("SIGN_OUT"),I={changeStateToSignIn:x,thunkSignIn:function(e){return function(){var a=Object(g.a)(f.a.mark((function a(t){var n,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N({user:e});case 3:n=a.sent,r=n.data.user,t(x(r)),j(r),a.next=13;break;case 9:throw a.prev=9,a.t0=a.catch(0),a.t0.response.data.errors;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},thunkSignUp:function(e){return function(){var a=Object(g.a)(f.a.mark((function a(t){var n,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O({user:e});case 3:n=a.sent,r=n.data.user,t(x(r)),j(r),a.next=13;break;case 9:throw a.prev=9,a.t0=a.catch(0),a.t0.response.data.errors;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}},R={changeStateToSignOut:k},T=Object(d.a)((n={},Object(p.a)(n,x,(function(){return!0})),Object(p.a)(n,k,(function(){return!1})),n),!1),L=Object(d.a)(Object(p.a)({},x,(function(e,a){return a.payload})),{}),A=Object(m.c)({isLoggedIn:T,user:L}),C=Object(m.d)(A,Object(m.a)(u.a)),F=t(103),q=t(36),P=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}))((function(e){var a=e.component,t=e.addresToRedirect,n=e.isRoutingAllowed,r=e.name,c=e.isLoggedIn,o=Object(F.a)(e,["component","addresToRedirect","isRoutingAllowed","name","isLoggedIn"]);return s.a.createElement(q.b,Object.assign({},o,{render:function(e){return n(c,r)?s.a.createElement(a,e):s.a.createElement(q.a,{to:t})}}))})),U=t(105),Y=t(106),H=t(115),J=t(108),z=t(116),Z=function(e){function a(){return Object(U.a)(this,a),Object(H.a)(this,Object(J.a)(a).apply(this,arguments))}return Object(z.a)(a,e),Object(Y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.changeStateToSignIn;try{var a=JSON.parse(localStorage.getItem("user"));a&&e(a)}catch(t){console.log("Can not read localStorage")}}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.children)}}]),a}(s.a.Component),$=Object(l.b)((function(){return{}}),I)(Z),_=Object(l.b)((function(e){return{user:e.user}}),R)((function(e){var a=e.changeStateToSignOut,t=e.user;return s.a.createElement("div",{className:"header"},"This is Homepage",s.a.createElement("div",{className:"header_btn"},s.a.createElement("span",null,t.username),s.a.createElement("button",{onClick:function(){localStorage.clear(),a()},type:"button",className:"btn-primary"},"Exit")))})),B=t(8),G=t(26),V=t(187),D=t(188),M=G.a({password:G.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").required("You must enter password"),email:G.b().email("Invalid email address").required("You must enter email")}),K=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),I)((function(e){var a=e.thunkSignIn,t=function(){var e=Object(g.a)(f.a.mark((function e(t,n){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,s=n.setFieldError,e.prev=1,e.next=4,a(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s("email","Check email"),s("password","Check password");case 10:return e.prev=10,r(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})));return function(a,t){return e.apply(this,arguments)}}();return s.a.createElement(V.a,{xs:22,md:12,xl:6,className:"form-wrapper"},s.a.createElement("h2",{className:"form-header"},"Sing in to Blog"),s.a.createElement(B.d,{initialValues:{email:"",password:""},validationSchema:M,onSubmit:t},(function(e){return s.a.createElement(B.c,{onSubmit:e.handleSubmit},s.a.createElement("label",{htmlFor:"email"},s.a.createElement("span",{className:"form-label"},"Email"),s.a.createElement(B.b,{type:"email",name:"email",className:"form-input"})),s.a.createElement(B.a,{name:"email",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"password"},s.a.createElement("span",{className:"form-label"},"Password"),s.a.createElement(B.b,{type:"password",name:"password",className:"form-input"})),s.a.createElement(B.a,{name:"password",component:"div",className:"form-error"}),e.isSubmitting?s.a.createElement(D.a,null):s.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign in"))})),s.a.createElement("div",{className:"or"},"OR"),s.a.createElement(i.b,{to:"signup"},"Create new Account"))})),Q=G.a({username:G.b().matches(/^[a-zA-Z0-9]{0,}$/,"Name have only latin letters and digits").required("You must enter Name"),password:G.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").min(8,"Password is too short - should be 8 chars minimum.").required("You must enter password"),email:G.b().email("Invalid email address").required("You must enter email")}),W=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),I)((function(e){var a=e.thunkSignUp,t=function(){var e=Object(g.a)(f.a.mark((function e(t,n){var r,s,c,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,s=n.setFieldError,e.prev=1,e.next=4,a(t);case 4:e.next=12;break;case 6:e.prev=6,e.t0=e.catch(1),c=e.t0.email,o=e.t0.password,i=e.t0.username,s("username",i),s("email",c),s("password",o);case 12:return e.prev=12,r(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,6,12,15]])})));return function(a,t){return e.apply(this,arguments)}}();return s.a.createElement(V.a,{xs:22,md:12,xl:6,className:"form-wrapper"},s.a.createElement("h2",{className:"form-header"},"Create new accuant"),s.a.createElement(B.d,{initialValues:{email:"",password:"",username:""},validationSchema:Q,onSubmit:t},(function(e){return s.a.createElement(B.c,{onSubmit:e.handleSubmit},s.a.createElement("label",{htmlFor:"username"},s.a.createElement("span",{className:"form-label"},"Name"),s.a.createElement(B.b,{type:"text",name:"username",className:"form-input"})),s.a.createElement(B.a,{name:"username",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"email"},s.a.createElement("span",{className:"form-label"},"Email"),s.a.createElement(B.b,{type:"email",name:"email",className:"form-input"})),s.a.createElement(B.a,{name:"email",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"password"},s.a.createElement("span",{className:"form-label"},"Password"),s.a.createElement(B.b,{type:"password",name:"password",className:"form-input"})),s.a.createElement(B.a,{name:"password",component:"div",className:"form-error"}),e.isSubmitting?s.a.createElement(D.a,null):s.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign Up"))})),s.a.createElement("div",{className:"or"},"OR"),s.a.createElement(i.b,{to:"login"},"Sign in"))})),X=(t(181),t(182),function(){return s.a.createElement(l.a,{store:C},s.a.createElement(i.a,null,s.a.createElement($,null,s.a.createElement(P,{path:"/blog",component:_,exact:!0,addresToRedirect:"/blog/login",isRoutingAllowed:y,name:"Home"}),s.a.createElement(P,{path:"/blog/login",component:K,addresToRedirect:"/blog",isRoutingAllowed:y}),s.a.createElement(P,{path:"/blog/signup",component:W,addresToRedirect:"/blog",isRoutingAllowed:y}))))});o.a.render(s.a.createElement(X,null),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.56bfc0cb.chunk.js.map