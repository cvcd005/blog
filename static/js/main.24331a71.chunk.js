(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{119:function(e,t,a){e.exports=a(183)},182:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(61),o=a.n(c),i=a(37),l=a(15),u=a(101),m=a(36),p=function(e){var t=e.component,a=e.addresToRedirect,n=e.isRoutingAllowed,r=e.name,c=Object(u.a)(e,["component","addresToRedirect","isRoutingAllowed","name"]);return s.a.createElement(m.b,Object.assign({},c,{render:function(e){return n(r)?s.a.createElement(t,e):s.a.createElement(m.a,{to:a})}}))},d=a(7),b=a.n(d),f=a(22),g=a(103),h=a.n(g).a.create({baseURL:"https://conduit.productionready.io/api/"}),E="users/login",v="users",w=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.post("".concat(v),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.post("".concat(E),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){localStorage.setItem("user",JSON.stringify(e))},N=function(e){return!!e},j=function(e){return function(t){return(!N(e)||"Home"===t)&&!(!N(e)&&"Home"===t)}},y=a(104),x=a(105),k=a(115),I=a(107),R=a(116),T=a(189),A=Object(T.a)("SIGN_IN"),L=Object(T.a)("SIGN_OUT"),C={changeStateToSignIn:A,thunkSignIn:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S({user:e});case 3:n=t.sent,r=n.data.user,a(A(r)),O(r),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},thunkSignUp:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w({user:e});case 3:n=t.sent,r=n.data.user,a(A(r)),O(r),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},F={changeStateToSignOut:L},q=function(e){function t(){return Object(y.a)(this,t),Object(k.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.changeStateToSignIn;try{var t=JSON.parse(localStorage.getItem("user"));t&&e(t)}catch(a){console.log("Can not read localStorage")}}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.children)}}]),t}(s.a.Component),P=Object(l.b)((function(){return{}}),C)(q),U=Object(l.b)((function(e){return{user:e.user}}),F)((function(e){var t=e.changeStateToSignOut,a=e.user;return s.a.createElement("div",{className:"header"},"This is Homepage",s.a.createElement("div",{className:"header_btn"},s.a.createElement("span",null,a.username),s.a.createElement("button",{onClick:function(){localStorage.clear(),t()},type:"button",className:"btn-primary"},"Exit")))})),Y=a(8),H=a(26),J=a(187),z=a(188),Z=H.a({password:H.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").required("You must enter password"),email:H.b().email("Invalid email address").required("You must enter email")}),$=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),C)((function(e){var t=e.thunkSignIn,a=function(){var e=Object(f.a)(b.a.mark((function e(a,n){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,s=n.setFieldError,e.prev=1,e.next=4,t(a);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s("email","Check email"),s("password","Check password");case 10:return e.prev=10,r(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})));return function(t,a){return e.apply(this,arguments)}}();return s.a.createElement(J.a,{xs:22,md:12,xl:6,className:"form-wrapper"},s.a.createElement("h2",{className:"form-header"},"Sing in to Blog"),s.a.createElement(Y.d,{initialValues:{email:"",password:""},validationSchema:Z,onSubmit:a},(function(e){return s.a.createElement(Y.c,{onSubmit:e.handleSubmit},s.a.createElement("label",{htmlFor:"email"},s.a.createElement("span",{className:"form-label"},"Email"),s.a.createElement(Y.b,{type:"email",name:"email",className:"form-input"})),s.a.createElement(Y.a,{name:"email",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"password"},s.a.createElement("span",{className:"form-label"},"Password"),s.a.createElement(Y.b,{type:"password",name:"password",className:"form-input"})),s.a.createElement(Y.a,{name:"password",component:"div",className:"form-error"}),e.isSubmitting?s.a.createElement(z.a,null):s.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign in"))})),s.a.createElement("div",{className:"or"},"OR"),s.a.createElement(i.b,{to:"signup"},"Create new Account"))})),_=H.a({username:H.b().matches(/^[a-zA-Z0-9]{0,}$/,"Name have only latin letters and digits").required("You must enter Name"),password:H.b().matches(/^[a-zA-Z0-9]{0,}$/,"Password have only latin letters and digits").min(8,"Password is too short - should be 8 chars minimum.").required("You must enter password"),email:H.b().email("Invalid email address").required("You must enter email")}),B=Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),C)((function(e){var t=e.thunkSignUp,a=function(){var e=Object(f.a)(b.a.mark((function e(a,n){var r,s,c,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,s=n.setFieldError,e.prev=1,e.next=4,t(a);case 4:e.next=12;break;case 6:e.prev=6,e.t0=e.catch(1),c=e.t0.email,o=e.t0.password,i=e.t0.username,s("username",i),s("email",c),s("password",o);case 12:return e.prev=12,r(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,6,12,15]])})));return function(t,a){return e.apply(this,arguments)}}();return s.a.createElement(J.a,{xs:22,md:12,xl:6,className:"form-wrapper"},s.a.createElement("h2",{className:"form-header"},"Create new accuant"),s.a.createElement(Y.d,{initialValues:{email:"",password:"",username:""},validationSchema:_,onSubmit:a},(function(e){return s.a.createElement(Y.c,{onSubmit:e.handleSubmit},s.a.createElement("label",{htmlFor:"username"},s.a.createElement("span",{className:"form-label"},"Name"),s.a.createElement(Y.b,{type:"text",name:"username",className:"form-input"})),s.a.createElement(Y.a,{name:"username",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"email"},s.a.createElement("span",{className:"form-label"},"Email"),s.a.createElement(Y.b,{type:"email",name:"email",className:"form-input"})),s.a.createElement(Y.a,{name:"email",component:"div",className:"form-error"}),s.a.createElement("label",{htmlFor:"password"},s.a.createElement("span",{className:"form-label"},"Password"),s.a.createElement(Y.b,{type:"password",name:"password",className:"form-input"})),s.a.createElement(Y.a,{name:"password",component:"div",className:"form-error"}),e.isSubmitting?s.a.createElement(z.a,null):s.a.createElement("button",{type:"submit",className:"btn-primary"},"Sign Up"))})),s.a.createElement("div",{className:"or"},"OR"),s.a.createElement(i.b,{to:"login"},"Sign in"))})),G=(a(181),a(182),Object(l.b)((function(e){return{isLoggedIn:e.isLoggedIn}}))((function(e){var t=e.isLoggedIn;return s.a.createElement(i.a,null,s.a.createElement(P,null,s.a.createElement(p,{path:"/blog",component:U,exact:!0,addresToRedirect:"/blog/login",isRoutingAllowed:j(t),name:"Home"}),s.a.createElement(p,{path:"/blog/login",component:$,addresToRedirect:"/blog",isRoutingAllowed:j(t)}),s.a.createElement(p,{path:"/blog/signup",component:B,addresToRedirect:"/blog",isRoutingAllowed:j(t)})))}))),V=a(38),D=a(114),M=a(75),K=a(185),Q=Object(K.a)((n={},Object(M.a)(n,A,(function(){return!0})),Object(M.a)(n,L,(function(){return!1})),n),!1),W=Object(K.a)(Object(M.a)({},A,(function(e,t){return t.payload})),{}),X=Object(V.c)({isLoggedIn:Q,user:W}),ee=Object(V.d)(X,Object(V.a)(D.a));o.a.render(s.a.createElement(l.a,{store:ee},s.a.createElement(G,null)),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.24331a71.chunk.js.map